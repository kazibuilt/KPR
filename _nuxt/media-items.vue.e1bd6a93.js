import e from"./scroll-scale.f426de23.js";import a from"./touching-line.dba28028.js";import l from"./random-offset.0fe9d36a.js";import{_ as t}from"./flicker-animation.vue.0d4b5aba.js";import o from"./console-text.4537bc5d.js";import n from"./dot-caption.f385565b.js";import r from"./hacky-text.bd3e68e0.js";import s from"./image-gallery.14bbdb9d.js";import{a as i,e as u,b as f,r as m,h as d,E as c,y as p,z as v,o as y,l as g,m as h,F as _,p as k,c as b,w as j,q as M,ac as $,G as w,u as S,J as C,v as A,t as x,A as F,ar as T}from"./entry.40e762a9.js";import{u as I}from"./useComponentLoad.f16c13de.js";import{u as P}from"./useAnimateIn.00988aac.js";import{u as Y}from"./useRaf.5395a270.js";import{d as z}from"./dayjs.min.34102b5f.js";const L={class:"pad"},D={class:"inner w-full h-full relative"},B={class:"count"},R=h("div",{class:"line"},null,-1),U={class:"info"},q={key:0,class:"slash"},E=i({__name:"media-items",props:{blok:{type:Object},items:{},layer:{}},emits:["loaded"],setup(i,{emit:E}){const G=i,{app:J,browser:O}=u(),{$gsap:V,$ScrollTrigger:H}=f(),K=m(null),N=m(null),Q=d((()=>{var e;return G.items||(null==(e=G.blok)?void 0:e.items)})),W=d((()=>Math.min(Q.value.length,4))),{count:X,loaded:Z,onComponentLoad:ee}=I(W.value);c((()=>[X.value,Z.value]),(()=>{Z.value&&E("loaded")}),{immediate:!0});P((()=>{V.fromTo(N.value[0],{y:"100%"},{y:"0%",ease:"power4.out",duration:3})}));const ae=m(null),le=m(null),te=m(null);Y((()=>{O.isMobile||(le.value.style.transform=`translateY(${J.scrollTop()}px)`,te.value.style.transform=`translateY(${J.scrollTop()}px)`)}));const oe=d((()=>{switch(J.mediaCategory){case"image":case"images":return"img";case"video":return"video";case"audio":return"audio";default:return"media"}})),ne=d((()=>["right","left"]));let re=[0,2,2,2],se=[2,0,2,2],ie=d((()=>{var e;let a=[],l=0,t=1;if(!(null==(e=Q.value)?void 0:e.length))return a;for(let o=0;o<Q.value.length;o++){let e=ne.value[l];a.push(e),1==t?(l+=1,l==ne.value.length-1&&(t=-1)):(l-=1,0==l&&(t=1))}return a}));c((()=>Q.value.length),(function(){let e=Q.value.length,a=Q.value.filter((e=>"MediaImage"==e.component)).length,l=Q.value.filter((e=>"MediaVideo"==e.component)).length,t=Q.value.filter((e=>"MediaAudio"==e.component)).length;J.setMediaCount({total:e,image:a,video:l,audio:t})}),{immediate:!0});const ue=d((()=>null==J.mediaCategory?Q.value:Q.value.filter((e=>{return e.component==`Media${a=J.mediaCategory,a.charAt(0).toUpperCase()+a.slice(1)}`;var a})))),fe=m(Q.value[0]),me=function(e){return`${a=e,a.asset.filename.replace(/^.*[\\\/]/,"")}\n    File Data`;var a},de=function(e){return`Published\n    ${function(e){let a=e.file_published||z();return z(a).format("DD.MM.YY")}(e)}\n\n    File Size\n    ${e.file_size}\n\n    File Format\n    ${a=e,a.asset.filename.split(".").pop()}\n  `;var a},ce=m(null);return c((()=>ce.value),(()=>{var e;J.setMediaPlaying((null==(e=ce.value)?void 0:e._uid)||null)})),(u,f)=>{const m=e,d=a,c=l,I=t,P=o,Y=n,z=r,E=s,G=p("nav"),J=p("subnav");return v((y(),g("div",{class:"media-items frame-container-first over-only",frame:"light",ref_key:"refRoot",ref:ae},[h("div",L,[(y(!0),g(_,null,k(S(ue),((e,a)=>(y(),b(I,{class:w(["item",[S(ie)[a]]]),style:C({zIndex:S(O).isMobile?S(se)[a%5]:S(re)[a%5]}),property:"opacity",flashes:"20",states:"50%_100%"},{default:j((()=>[M(c,null,{default:j((()=>[M(d,{ref_for:!0,ref_key:"refMediaItem",ref:N,onSelect:a=>fe.value=e,onUnselect:f[0]||(f[0]=e=>fe.value=null),layer:i.layer},{default:j((()=>[M(m,{layer:i.layer},{default:j((()=>[(y(),b($(e.component),{key:e._uid,blok:e,layer:i.layer,onShow:a=>{return l=e,void(ce.value=l);var l},onLoaded:e=>function(e,a){a<W.value&&ee(`MediaItems-${a}`)}(0,a)},null,40,["blok","layer","onShow","onLoaded"]))])),_:2},1032,["layer"])])),_:2},1032,["onSelect","layer"])])),_:2},1024)])),_:2},1032,["class","style"])))),256)),h("div",{class:"pin pin-category full frame-container-first desktop-only",ref_key:"refPin",ref:le},[(y(),b(P,{class:"category-label",ref_key:"refTitle",ref:K,key:S(oe),autoAppear:!0,autoAppearBlinks:0},{default:j((()=>[A(x(S(oe)),1)])),_:1}))],512),h("div",{class:"pin pin-info full frame-container-first type-caption2",ref_key:"refPin2",ref:te},[h("div",D,[h("div",B,[(y(),b(Y,{autoplay:!0,key:`${S(oe)}-${S(ue).length}`},{default:j((()=>[A(x(S(ue).length)+" Files",1)])),_:1}))]),R,(y(!0),g(_,null,k(S(Q),(e=>(y(),g("ul",U,[e==S(fe)?(y(),g("div",q,"//")):F("",!0),e==S(fe)?(y(),b(z,{key:1,class:"label",animationSpeed:.2},{default:j((()=>[A(x(me(e)),1)])),_:2},1032,["animationSpeed"])):F("",!0),e==S(fe)?(y(),b(z,{key:2,class:"label faded",animationSpeed:.2},{default:j((()=>[A(x(de(e)),1)])),_:2},1032,["animationSpeed"])):F("",!0)])))),256))])],512)]),(y(),b(T,{to:"body"},[null!=S(ce)?(y(),b(E,{key:0,bloks:S(Q),selected:S(ce),onClose:f[1]||(f[1]=e=>ce.value=null)},null,8,["bloks","selected"])):F("",!0)])),(y(),b(T,{to:"body"},[(y(),b(P,{class:"category-label mobile-only",ref_key:"refTitle",ref:K,key:S(oe),autoAppear:!0,autoAppearBlinks:0},{default:j((()=>[A(x(S(oe)),1)])),_:1}))]))])),[[G,"white"],[J,"white"]])}}});export{E as _};
