import{a,e as t,r as s,j as e,o,l as r,m as l,F as n,p as u,J as d,u as i,f}from"./entry.40e762a9.js";const c={class:"audio-bar-wave w-full h-full",ref:"refRoot"},w={class:"bars flex-row w-full h-full"},p=f(a({__name:"audio-bar-wave",props:{src:{required:!0},samples:{default:100}},setup(a){const f=a,{browser:p}=t(),h=s([]);return e((async()=>{const a=(a=>{const t=a.getChannelData(0);let s=f.samples*(p.isMobile?.5:1);s=Math.floor(s);const e=Math.floor(t.length/s),o=[];for(let r=0;r<s;r++){let a=e*r,s=0;for(let o=0;o<e;o++)s+=Math.abs(t[a+o]);o.push(s/e)}return o})(await async function(a){window.AudioContext=window.AudioContext||window.webkitAudioContext;const t=new AudioContext;let s=await fetch(a,{mode:"cors"}),e=await s.arrayBuffer();return await t.decodeAudioData(e)}(f.src)),t=(a=>{const t=Math.pow(Math.max(...a),-1);return a.map((a=>a*t))})(a);h.value=t})),(a,t)=>(o(),r("div",c,[l("div",w,[(o(!0),r(n,null,u(i(h),(a=>(o(),r("div",{class:"bar",style:d({transform:`scaleY(${a})`})},null,4)))),256))])],512))}}),[["__scopeId","data-v-e7dc3dff"]]);export{p as default};
