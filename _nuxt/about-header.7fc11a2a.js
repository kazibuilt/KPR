import e from"./indented-title.83c6ff8e.js";import t from"./media.20a994eb.js";import l from"./parallax-image.2a47334f.js";import{a as r,e as a,b as i,r as o,h as s,E as n,y as u,z as f,o as d,l as c,m as v,q as m,u as g,w as y,M as p,T as k,A as b,B as h,C as _,f as w}from"./entry.40e762a9.js";import{u as T}from"./useComponentLoad.f16c13de.js";import{u as R}from"./useAnimateIn.00988aac.js";import{u as L}from"./useScrollTrigger.934dab30.js";import{_ as C}from"./kpr-logo.24422e26.js";import"./dot.36dd12fe.js";const S=""+new URL("left-mask.2efbaa5b.svg?inline",import.meta.url).href,B=""+new URL("right-mask.5df05fe6.svg?inline",import.meta.url).href,x=e=>(h("data-v-39e077b1"),e=e(),_(),e),M=["layer"],j={class:"top frame-container-first over-only",id:"AboutHeaderHeading",frame:"light",out:"opacity"},z=x((()=>v("div",{class:"frame-container"},[v("div",{class:"line"})],-1))),O={class:"targets frame-container full"},I={class:"inner w-full h-full relative flex-row",items:"stretch"},H={class:"left",flex:"1"},A=x((()=>v("div",{class:"line"},null,-1))),q={class:"right",flex:"1"},$={class:"bg full"},U=[x((()=>v("img",{src:S},null,-1)))],D=[x((()=>v("img",{src:B},null,-1)))],E=w(r({__name:"about-header",props:{blok:{type:Object,required:!0},layer:{default:"under"}},emits:["loaded"],setup(r,{emit:h}){const _=r,{app:w,browser:S}=a(),{$gsap:B,$ScrollTrigger:x}=i(),E=o(null),K=o(null),W=o(null),X=o(null),Y=o(null),F=o(null);o(null);const G=o(null),J=o(null),N=o(null),P=o(null),Q=o(null),V=o(null),Z=o(null),ee=o(null),te=o(null),le=o(null),re=o(null),ae=o(null),ie=o(null),oe=o(null),se=s((()=>"over"==_.layer?W.value:X.value)),{loaded:ne,onComponentLoad:ue}=T(3);n((()=>ne.value),(()=>{ne.value&&h("loaded")}),{immediate:!0}),R((()=>{if(S.isMobile)return;if("under"==_.layer)return;let e=new B.timeline,t=[...F.value.querySelectorAll(".line")],l=F.value.querySelector(".pretitle");return e.add("start"),e.fromTo(t,{opacity:0,y:6*S.fontSize},{opacity:1,y:0,stagger:.1},"start"),e.fromTo(l,{opacity:0},{opacity:1},"start+=0"),e.fromTo(se.value,{y:S.windowHeight-se.value.offsetTop},{y:0,duration:1},"start+=0"),e})),R((()=>{if(S.isMobile)return;if("over"==_.layer)return;let e=new B.timeline;e.add("start"),e.fromTo(se.value,{y:()=>S.windowHeight-se.value.offsetTop},{y:0},"start+=0");let t=20*S.fontSize;return e.fromTo([Z.value,re.value],{y:()=>7*S.fontSize+1*t},{y:()=>7*S.fontSize,ease:"power2.inOut"},"start+=0"),e.fromTo([te.value,ie.value],{y:()=>14*S.fontSize+2*t},{y:()=>14*S.fontSize,ease:"power2.inOut"},"start+=0"),e.fromTo(ee.value,{y:()=>-1*t},{y:0,ease:"power2.inOut"},"start+=0"),e.fromTo(le.value,{y:()=>-2*t},{y:0,ease:"power2.inOut"},"start+=0"),e.timeScale(.5),e}));const fe=function(){let e=N.value.getBoundingClientRect(),t=Q.value.getBoundingClientRect();return e.width/t.width},de=function(){let e=N.value.getBoundingClientRect(),t=Q.value.getBoundingClientRect();return e.width/2-t.width/2+e.left},ce=function(){let e=P.value.getBoundingClientRect(),t=V.value.getBoundingClientRect();return e.width/t.width},ve=function(){let e=P.value.getBoundingClientRect(),t=V.value.getBoundingClientRect(),l=e.width/t.width,r=0;return r=e.left-t.left,r+=l*t.width/2,r-=t.width/2,r};L((()=>{if(S.isMobile)return;if("over"==_.layer)return;let e=new B.timeline({scrollTrigger:{trigger:document.body,start:"top top",endTrigger:K.value,end:"top top",scrub:!0}});return e.add("start"),e.fromTo([Z.value,re.value],{scale:fe,x:de,y:()=>7*S.fontSize},{scale:1,x:0,y:0},"start"),e.fromTo(ee.value,{scale:()=>1/fe()},{scale:1,x:0},"start"),e.fromTo([te.value,ie.value],{scale:ce,x:ve,y:()=>14*S.fontSize},{scale:1,x:0,y:0},"start"),e.fromTo(le.value,{scale:()=>1/ce()},{scale:1,x:0,y:0},"start"),e.to(ae.value,{scale:1.2},"start"),e.to(oe.value,{scale:1.2},"start"),e}));const me=o(!1);return L((()=>{if(!S.isMobile&&"under"!=_.layer)return x.create({trigger:K.value,start:()=>`top top+=${K.value.getBoundingClientRect().top-100}px`,onEnter:()=>{me.value=!0},onLeaveBack:()=>{me.value=!1}})})),L((()=>{if(S.isMobile)return;if("over"==_.layer)return;let e=new B.timeline({scrollTrigger:{trigger:K.value,start:"top top",end:"bottom top",scrub:!0}});return e.add("start"),e.to(ee.value,{y:()=>20*S.fontSize},"start"),e.to(le.value,{y:()=>20*S.fontSize},"start"),e})),(a,i)=>{const o=e,s=t,n=l,h=u("editable"),_=u("nav");return f((d(),c("div",{class:"about-header",id:"header",layer:r.layer,ref_key:"refRoot",ref:E,onClick:i[3]||(i[3]=(...e)=>a.animateIn&&a.animateIn(...e))},[v("div",j,[v("div",{class:"heading",ref_key:"refHeading",ref:F},[m(o,{class:"title type-h1",pretitle:r.blok.pretitle,title:r.blok.title,onLoaded:i[0]||(i[0]=e=>g(ue)("title"))},null,8,["pretitle","title"])],512)]),v("div",{class:"wrapper",id:"AboutHeaderBottom",ref_key:"refWrapper",ref:K,frame:"dark",in:"opacity"},[v("div",{class:"bottom over-only",ref_key:"refBottomOver",ref:W},[z,v("div",O,[v("div",I,[v("div",H,[v("div",{class:"target target-left",ref_key:"refLeftTarget",ref:N},[v("div",{class:"caption-left",ref_key:"refCaptionLeft",ref:G},null,512)],512)]),A,v("div",q,[v("div",{class:"target target-right",ref_key:"refRightTarget",ref:P},[v("div",{class:"caption-right",ref_key:"refCaptionRight",ref:J},null,512)],512)]),m(k,{name:"fade"},{default:y((()=>[f(v("img",{class:"icon",ref_key:"refLogo",ref:Y,src:C},null,512),[[p,g(me)||g(S).isMobile]])])),_:1})])])],512),g(S).isMobile||"under"==r.layer?(d(),c("div",{key:0,class:"bottom under-only",ref_key:"refBottomUnder",ref:X},[v("div",$,[v("div",{class:"left",ref_key:"refLeft",ref:Q},[v("div",{class:"mask-outer",ref_key:"refLeftOuter",ref:Z},[v("div",{class:"mask-inner",ref_key:"refLeftInner",ref:ee},[m(n,{class:"full",full:!0,disabled:g(S).isDesktop},{default:y((()=>[m(s,{class:"full object-cover",blok:r.blok.left_image,onLoaded:i[1]||(i[1]=e=>g(ue)("left_image"))},null,8,["blok"])])),_:1},8,["disabled"])],512)],512),v("div",{class:"shape-mask-outer full",ref_key:"refLeftMaskOuter",ref:re},[v("div",{class:"shape-mask-inner full",ref_key:"refLeftMaskInner",ref:ae},U,512)],512)],512),v("div",{class:"right",ref_key:"refRight",ref:V},[v("div",{class:"mask-outer",ref_key:"refRightOuter",ref:te},[v("div",{class:"mask-inner",ref_key:"refRightInner",ref:le},[m(n,{class:"full",full:!0,disabled:g(S).isDesktop},{default:y((()=>[m(s,{class:"full object-cover",blok:r.blok.right_image,onLoaded:i[2]||(i[2]=e=>g(ue)("right_image"))},null,8,["blok"])])),_:1},8,["disabled"])],512)],512),v("div",{class:"shape-mask-outer full",ref_key:"refRightMaskOuter",ref:ie},[v("div",{class:"shape-mask-inner full",ref_key:"refRightMaskInner",ref:oe},D,512)],512)],512)])],512)):b("",!0)],512)],8,M)),[[h,r.blok],[_,"white"]])}}}),[["__scopeId","data-v-39e077b1"]]);export{E as default};
