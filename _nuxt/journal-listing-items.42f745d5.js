import e from"./dot-caption.f385565b.js";import l from"./journal-listing-item.db21f56a.js";import a from"./link-hover.6073cf81.js";import{a as t,e as s,b as o,r as n,ab as i,j as r,h as u,aq as c,K as d,aB as v,E as g,o as m,l as y,m as f,c as p,w as j,v as h,t as b,u as k,G as C,F as x,p as w,q as _,A as L,B as S,C as A,f as J}from"./entry.40e762a9.js";import"./dot.36dd12fe.js";import"./hacky-text.bd3e68e0.js";import"./useScrollTrigger.934dab30.js";import"./media.20a994eb.js";import"./parallax-image.2a47334f.js";import"./nuxt-link.6ec7a40c.js";import"./Storyblok.57ca1dcc.js";import"./dayjs.min.34102b5f.js";const q={class:"journal-listing-items",frame:"light"},B={class:"frame-container over-only"},T={class:"column column-left flex-1"},$={class:"item-heading flex-row justify-between items-start"},E={class:"categories type-h2"},H={class:"label"},K=["onClick"],M={class:"label"},O={class:"column column-right flex-1"},P={class:"column mobile-only"},R={class:"item-heading flex-row justify-between items-start"},X={class:"categories type-h2"},F={class:"label"},G=["onClick"],I={class:"label"},Q={class:"label"},z=(e=>(S("data-v-d02aefbf"),e=e(),A(),e))((()=>f("div",{class:"ellipsis"},[f("div",{class:"dot"}),f("div",{class:"dot"}),f("div",{class:"dot"})],-1))),D=J(t({__name:"journal-listing-items",props:{blok:{type:Object,required:!0},layer:{}},emits:["loaded"],setup(t,{emit:S}){const A=t,{app:J,storyblok:D}=s();o();const N=n(null),U=i("articles");r((()=>{S("loaded")}));const V=u((()=>A.blok.numPerPage||8));c((()=>{J.setJournalShowAmount(V.value)}));const W=function(){J.setJournalShowAmount(J.journalShowAmount+V.value)},Y=i("datasources"),Z=u((()=>Y["article-category"].value)),ee=u((()=>Z.value)),le=u((()=>U.value&&U.value.length?J.journalCategory?U.value.filter((e=>{var l;let a=null==(l=e.content.metadata)?void 0:l.find((e=>"metadata-article"==e.component)),t=a.categories;return"string"==typeof a.categories&&(t=[a.categories]),t.indexOf(J.journalCategory)>=0})):U.value:[])),ae=u((()=>le.value.slice(0,J.journalShowAmount))),te=u((()=>J.journalShowAmount<le.value.length)),se=n(null),oe=d(se),ne=u((()=>ae.value.filter(((e,l)=>l%2==0)))),ie=u((()=>ae.value.filter(((e,l)=>l%2==1)))),re=v((function(){"over"==A.layer&&window.scrollTo(0,document.documentElement.scrollTop+N.value.getBoundingClientRect().top-70)}),300);return g((()=>{var e,l,a;return[null==(e=le.value)?void 0:e.length,null==(l=ne.value)?void 0:l.length,null==(a=ie.value)?void 0:a.length]}),re),(s,o)=>{const n=e,i=l,r=a;return m(),y("div",q,[f("div",B,[f("div",{class:"columns desktop-only flex flex-row",ref_key:"refRoot",ref:N},[f("div",T,[f("div",$,[(m(),p(n,{class:"type-caption2",singleLine:!0,key:`journal-listing-items-amount-${k(le).length}`},{default:j((()=>[h(b(k(le).length)+" "+b(t.blok.stories),1)])),_:1})),f("div",E,[f("div",{class:C(["btn-category",{active:null==k(J).journalCategory}]),onClick:o[0]||(o[0]=e=>k(J).setJournalCategory(null))},[f("div",H,b(t.blok.all),1)],2),(m(!0),y(x,null,w(k(ee),(e=>(m(),y("div",{class:C(["btn-category",{active:k(J).journalCategory==e.value}]),onClick:l=>k(J).setJournalCategory(e.value)},[f("div",M,b(e.dimension_value||e.name),1)],10,K)))),256))])]),(m(!0),y(x,null,w(k(ie),((e,l)=>(m(),p(i,{story:e,layer:t.layer,categories:k(Z),idx:l+2,isLast:k(ie).length>=k(ne).length&&l==k(ie).length-1},null,8,["story","layer","categories","idx","isLast"])))),256))]),f("div",O,[(m(!0),y(x,null,w(k(ne),((e,l)=>(m(),p(i,{story:e,layer:t.layer,categories:k(Z),idx:l+0,isLast:k(ne).length>k(ie).length&&l==k(ne).length-1},null,8,["story","layer","categories","idx","isLast"])))),256))])],512),f("div",P,[f("div",R,[_(n,{class:"type-caption2",singleLine:!0},{default:j((()=>[h(b(k(U).length)+" "+b(t.blok.stories),1)])),_:1}),f("div",X,[f("div",{class:C(["btn-category",{active:null==k(J).journalCategory}]),onClick:o[1]||(o[1]=e=>k(J).setJournalCategory(null))},[f("div",F,b(t.blok.all),1)],2),(m(!0),y(x,null,w(k(ee),(e=>(m(),y("div",{class:C(["btn-category",{active:k(J).journalCategory==e.value}]),onClick:l=>k(J).setJournalCategory(e.value)},[f("div",I,b(e.dimension_value||e.name),1)],10,G)))),256))])]),(m(!0),y(x,null,w(k(ae),((e,l)=>(m(),p(i,{story:e,layer:t.layer,categories:k(Z),idx:l,isLast:l==k(ae).length-1},null,8,["story","layer","categories","idx","isLast"])))),256))]),k(te)?(m(),y("div",{key:0,class:"load-more type-caption2",onClick:W,ref_key:"refLoadMore",ref:se},[_(r,{externalHovering:k(oe)},{default:j((()=>[f("div",Q,b(t.blok.loadMore),1)])),_:1},8,["externalHovering"]),z],512)):L("",!0)])])}}}),[["__scopeId","data-v-d02aefbf"]]);export{D as default};
