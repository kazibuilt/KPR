import{a,b as e,e as n,r as i,j as l,E as t,o as s,l as o,m as r,s as u,A as m,G as d,f}from"./entry.40e762a9.js";import{u as c}from"./useScrollTrigger.934dab30.js";const y={class:"scale"},v={key:0,class:"animation-in-overlay"},k={key:1,class:"animation-in-overlay-white"},p=f(a({__name:"parallax-image",props:{full:{default:!1},scale:{default:1.2},tint:{default:0},maskAnimationAutoPlay:{default:!1},maskAnimation:{default:!1},disabled:{default:!1},layer:{},id:{}},emits:[],setup(a,{expose:f,emit:p}){const A=a,{$gsap:g,$ScrollTrigger:_}=e();n();const b=i(null),x=i(null),P=i(null),I=i(null),h=i(null);i(!1),l((()=>{A.maskAnimationAutoPlay&&$()}));const{init:T}=c((function(){if(A.disabled)return;let a=new g.timeline({id:"parallax-image",scrollTrigger:{trigger:b.value,start:"top bottom",end:"bottom top",scrub:!0}});return a.fromTo(x.value,{y:()=>`-${100*(A.scale-1)}%`},{y:100*(A.scale-1)+"%",ease:"none"}),a}));t((()=>A.disabled),T);const $=function(a=0){if(!A.maskAnimation&&!A.maskAnimationAutoPlay)return;const e=[2,2,2],n=.4,i=[0,0,0],l=["quad.inOut","quint.inOut","sine.inOut"],t=[P.value,I.value,h.value];for(let s=0;s<t.length;s++){const o=(s+1)%e[s];for(let r=1;r<e[s];r++)i[s]+=100/e[s]+40*Math.abs(Math.sin(1.3*s+1.2*r)),g.to(t[s],{x:i[s]+"%",duration:.4,ease:l[s],delay:a+r*n+.05*o});g.to(t[s],{x:"100%",duration:.4,ease:l[s],delay:a+e[s]*n+.05*o})}};f({animateIn:$});const j=function(){let a=A.scale;A.disabled&&(a=1),b.value.style.setProperty("--scale",a),b.value.style.setProperty("--scalePercent",100*(a-1)+"%")};return l(j),t((()=>[A.scale,A.disabled]),j),(e,n)=>(s(),o("div",{class:d(["parallax-image",[a.full?"full":"relative"]]),ref_key:"refRoot",ref:b},[r("div",{class:"parallax",ref_key:"refParallax",ref:x},[r("div",y,[u(e.$slots,"default",{},void 0,!0)])],512),(a.maskAnimation||a.maskAnimationAutoPlay)&&0==a.tint?(s(),o("div",v,[r("div",{class:"animation-in-1",ref_key:"animationIn1",ref:P},null,512),r("div",{class:"animation-in-2",ref_key:"animationIn2",ref:I},null,512),r("div",{class:"animation-in-3",ref_key:"animationIn3",ref:h},null,512)])):m("",!0),(a.maskAnimation||a.maskAnimationAutoPlay)&&1==a.tint?(s(),o("div",k,[r("div",{class:"animation-in-1",ref_key:"animationIn1",ref:P},null,512),r("div",{class:"animation-in-2",ref_key:"animationIn2",ref:I},null,512),r("div",{class:"animation-in-3",ref_key:"animationIn3",ref:h},null,512)])):m("",!0)],2))}}),[["__scopeId","data-v-001bfd03"]]);export{p as default};
