import{a as s,e as t,N as e,r as o,ap as r,$ as i,z as a,M as l,u as n,o as c,l as p,m as u,c as m,A as f,G as g,f as j}from"./entry.40e762a9.js";import{u as v,g as h,W as b}from"./wallet-store.d6533bc0.js";import"./index.77e4f8bb.js";import{M as d}from"./mint-popup-error.b90a4601.js";import"./btn-main.f5b9edb2.js";import"./hacky-text.bd3e68e0.js";import"./useScrollTrigger.934dab30.js";import"./button-base.f7922683.js";import"./the-popup.e734b133.js";import"./corner-cut-svg.f06f3274.js";import"./svg-points.24f22c88.js";import"./svg-points.vue.baf20d35.js";import"./get-corner-cut-points.ec30f92c.js";/* empty css                           */import"./btn-close.617c7166.js";import"./hover-sfx.01594b28.js";import"./close-stroke.cb61bb4d.js";import"./detail-corner.e06fbc3b.js";const w=j(s({__name:"wallet-errors",setup(s){const j=v();t();const w=()=>{j.errors.length>0&&j.clearError(j.errors[0])},k=e({show:!1,onClick:()=>{},button:"",title:"",message:""}),y=o(!1);return r((()=>{const s=i().currentRoute.value,t=j.connected,e=j.accounts;if(t&&s.path.startsWith("/citizen")){const t=s.params.id;try{const s=h(t||""),o=h(e[0]);y.value=s===o}catch(o){y.value=!1}}else y.value=!1})),r((()=>{const s=y.value;if(k.show=!1,j.errors.length>0){if(j.errors[0]===b.WALLET_UNSIGNED)s&&(k.title="Please verify your Wallet to fully access your Citizen page.",k.message="Click below to sign a message with your wallet provider.",k.button="Verify",k.onClick=()=>{j.requestSignature(!0).then((s=>{k.show=!1}))},k.show=!0)}})),(s,t)=>a((c(),p("div",{class:g(["error full fixed",{isActive:n(k).show}])},[u("div",{class:"error__bg full",onClick:w}),n(k).show?(c(),m(d,{key:0,title:n(k).title,desc:n(k).message,"btn-text":n(k).button,onClose:w,onBtnClick:n(k).onClick},null,8,["title","desc","btn-text","onBtnClick"])):f("",!0)],2)),[[l,n(k).show]])}}),[["__scopeId","data-v-0ff7b6f2"]]);export{w as default};
