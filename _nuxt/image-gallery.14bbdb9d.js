import{_ as l}from"./flicker-animation.vue.0d4b5aba.js";import e from"./dot-caption.f385565b.js";import s from"./hacky-text.bd3e68e0.js";import a from"./link-hover.6073cf81.js";import i from"./btn-close.617c7166.js";import t from"./media-intrinsic-size.22d18930.js";import o from"./icon-download.8f6b4887.js";import n from"./icon-prev.58f92ece.js";import c from"./icon-next.009aa529.js";import{a as r,e as d,b as u,r as f,j as v,h as m,aA as p,H as b,o as k,l as h,q as y,m as _,w as g,v as j,u as w,F as C,p as x,z as L,M as S,t as M,A as z,c as A,G as D,B as F,C as R,f as E}from"./entry.40e762a9.js";import{u as G}from"./useAnimateIn.00988aac.js";import{D as I}from"./detail-corner.e06fbc3b.js";import{d as P}from"./dayjs.min.34102b5f.js";import{t as T,f as V}from"./Share.bfa2527b.js";import"./useRaf.5395a270.js";import"./useScrollTrigger.934dab30.js";import"./dot.36dd12fe.js";import"./hover-sfx.01594b28.js";import"./close-stroke.cb61bb4d.js";import"./intrinsic-scale.es-modules.1631ed54.js";import"./download.543cc28a.js";import"./next.c6e616d1.js";const K=""+new URL("triangle.d8f10579.svg?inline",import.meta.url).href,O=""+new URL("details.08197139.svg?inline",import.meta.url).href,U=""+new URL("knowledge.29d4c77f.svg?inline",import.meta.url).href,q=l=>(F("data-v-e8109335"),l=l(),R(),l),B={class:"image-gallery full fixed"},W={class:"frame w-full h-full flex-col"},Y={class:"menu mobile-only"},H={class:"share"},J=q((()=>_("div",{class:"slash"},"/",-1))),N=q((()=>_("div",{class:"slash"},"/",-1))),Q={class:"top relative w-full flex-1 flex-row items-stretch"},X={class:"left desktop-only"},Z={class:"info absolute type-caption2"},$={key:0,class:"title"},ll={key:0,class:"published"},el=q((()=>_("div",{class:"label"},"Published",-1))),sl={class:"value"},al={key:1,class:"size"},il=q((()=>_("div",{class:"label"},"File Size",-1))),tl={class:"value"},ol={key:2,class:"format"},nl=q((()=>_("div",{class:"label"},"File Format",-1))),cl={class:"value"},rl={class:"images relative flex-1"},dl={class:"image full"},ul={key:0,class:"resolution desktop-only"},fl=q((()=>_("img",{class:"triangle",src:K},null,-1))),vl={class:"right desktop-only"},ml={class:"bottom"},pl={class:"left type-caption2"},bl=["href","download"],kl=q((()=>_("div",{class:"label"},"Download",-1))),hl={key:0,class:"line"},yl=q((()=>_("img",{class:"icon",src:O},null,-1))),_l=q((()=>_("div",{class:"label"},"Details",-1))),gl={class:"share desktop-only"},jl=q((()=>_("div",{class:"slash"},"/",-1))),wl=q((()=>_("div",{class:"slash"},"/",-1))),Cl={class:"controls"},xl=["disabled"],Ll=["disabled"],Sl={key:0,class:"details"},Ml={class:"bg"},zl=q((()=>_("div",{class:"bg-top"},null,-1))),Al={class:"bg-bottom"},Dl=q((()=>_("div",{class:"bg-left"},null,-1))),Fl={class:"content"},Rl=q((()=>_("div",{class:"left"},[_("img",{class:"icon",src:U}),_("div",{class:"label"},"KLMx KNOWLEDGEBASE")],-1))),El={class:"center"},Gl={class:"title"},Il={class:"desc"},Pl=E(r({__name:"image-gallery",props:{bloks:{type:Object,required:!0},selected:{},layer:{}},emits:["loaded"],setup(r,{emit:F}){const R=r,{app:E}=d();u();const K=f(null);v((()=>{F("loaded")})),G((()=>{}));const O=m((()=>R.bloks.filter((l=>{switch(l.component){case"Media":case"MediaImage":return!0;case"MediaVideo":return l.playsinline;default:return!1}})))),U=function(l){let e=l.file_published||P();return P(e).format("DD.MM.YY")},q=f(0);v((()=>{K.value.animate(),q.value=O.value.indexOf(R.selected)}));const Pl=function(){q.value<=0||(q.value-=1)},Tl=function(){q.value>=O.value.length||(q.value+=1)},Vl=f(!1),Kl=m((()=>{let l=O.value[q.value];return l.details_title&&l.details_desc})),Ol=m((()=>{let l=O.value[q.value];return l.asset?l.asset.filename:l.desktop?l.desktop.filename:null})),Ul=function(){T.share({text:"",url:Ol.value})},ql=function(){V.share({url:Ol.value})},Bl=f(!1),Wl=function(){navigator.clipboard.writeText(Ol.value),Bl.value=!0};return p("Escape",(()=>{F("close")})),p("ArrowLeft",(()=>{Pl()})),p("ArrowRight",(()=>{Tl()})),v((()=>{E.toggleScrollerPause(!0)})),b((()=>{E.toggleScrollerPause(!1)})),(r,d)=>{var u;const f=l,v=e,m=s,p=a,b=i,R=t,E=o,G=n,P=c;return k(),h("div",B,[y(f,{class:"overlay-flash",ref_key:"refGallery",ref:K,states:"0%_100%",flashes:"20"},null,512),_("div",W,[_("div",Y,[_("div",H,[y(v,{singleLine:!0},{default:g((()=>[j("Share")])),_:1}),_("button",{onClick:Ul},"Twitter"),J,_("button",{onClick:ql},"Facebook"),N,w(Bl)?(k(),h("button",{key:1,class:"copy",onClick:Wl},[y(p,null,{default:g((()=>[y(m,null,{default:g((()=>[j("Link Copied")])),_:1})])),_:1})])):(k(),h("button",{key:0,class:"copy",onClick:Wl},[y(p,null,{default:g((()=>[y(m,null,{default:g((()=>[j("Copy Link")])),_:1})])),_:1})]))]),y(b,{onClick:d[0]||(d[0]=l=>F("close"))})]),_("div",Q,[_("div",X,[(k(!0),h(C,null,x(w(O),((l,e)=>L((k(),h("div",Z,[l.title?(k(),h("div",$,[y(v,{class:"type-caption2"},{default:g((()=>[j(M(l.title),1)])),_:2},1024)])):z("",!0),_("ul",null,[l.file_published?(k(),h("li",ll,[el,_("div",sl,M(U(l)),1)])):z("",!0),l.file_size?(k(),h("li",al,[il,_("div",tl,M(l.file_size),1)])):z("",!0),l.file_format?(k(),h("li",ol,[nl,_("div",cl,M(l.file_format),1)])):z("",!0)])],512)),[[S,w(q)==e]]))),256))]),_("div",rl,[(k(!0),h(C,null,x(w(O),((l,e)=>{var s,a,i;return k(),h("div",dl,[w(q)==e?(k(),A(R,{key:0,src:(null==(s=l.asset)?void 0:s.filename)||(null==(a=l.desktop)?void 0:a.filename),poster:null==(i=l.poster)?void 0:i.filename,isVideo:"MediaVideo"==l.component},{info:g((l=>[l.width?(k(),h("div",ul,[fl,y(m,null,{default:g((()=>[j(M(l.width)+" x "+M(l.height),1)])),_:2},1024)])):z("",!0)])),_:2},1032,["src","poster","isVideo"])):z("",!0)])})),256))]),_("div",vl,[y(b,{onClick:d[1]||(d[1]=l=>F("close"))})])]),_("div",ml,[_("div",pl,[w(O)[w(q)].asset?(k(),h("a",{key:0,class:"btn btn-download",href:null==(u=w(O)[w(q)].asset)?void 0:u.filename,download:w(O)[w(q)].file_name,target:"_blank"},[y(E,{class:"icon"}),kl],8,bl)):z("",!0),_("div",{class:D(["btn btn-details",{show:w(Kl),active:w(Vl)}]),onClick:d[2]||(d[2]=l=>Vl.value=!0)},[w(Vl)?(k(),h("div",hl)):z("",!0),yl,_l],2)]),_("div",gl,[y(v,{singleLine:!0},{default:g((()=>[j("Share")])),_:1}),_("button",{onClick:Ul},[y(p,null,{default:g((()=>[y(m,null,{default:g((()=>[j("Twitter")])),_:1})])),_:1})]),jl,_("button",{onClick:ql},[y(p,null,{default:g((()=>[y(m,null,{default:g((()=>[j("Facebook")])),_:1})])),_:1})]),wl,w(Bl)?(k(),h("button",{key:1,class:"copy",onClick:Wl},[y(p,null,{default:g((()=>[y(m,null,{default:g((()=>[j("Link Copied")])),_:1})])),_:1})])):(k(),h("button",{key:0,class:"copy",onClick:Wl},[y(p,null,{default:g((()=>[y(m,null,{default:g((()=>[j("Copy Link")])),_:1})])),_:1})]))]),_("div",Cl,[_("div",{class:"btn btn-prev",onClick:Pl,disabled:0==w(q)||null},[y(G,{class:"icon"})],8,xl),_("div",{class:"btn btn-next",onClick:Tl,disabled:w(q)==w(O).length-1||null},[y(P,{class:"icon"})],8,Ll)])])]),w(Vl)&&w(Kl)?(k(),h("div",Sl,[_("div",Ml,[zl,_("div",Al,[Dl,y(w(I),{class:"bg-corner"})])]),_("div",Fl,[Rl,_("div",El,[_("div",Gl,M(w(O)[w(q)].details_title),1),_("div",Il,M(w(O)[w(q)].details_desc),1)]),y(b,{onClick:d[3]||(d[3]=l=>Vl.value=!1)})])])):z("",!0)])}}}),[["__scopeId","data-v-e8109335"]]);export{Pl as default};
